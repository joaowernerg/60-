<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pol√≠ticas de Envelhecimento Ativo no SUS ‚Ä¢ Vida Saud√°vel 60+</title>
  <meta name="description" content="Marco legal do SUS para a pessoa idosa (PNSPI), instrumentos de gest√£o e cuidado, participa√ß√£o e protagonismo, e pol√≠ticas p√∫blicas de mobilidade para o envelhecimento ativo." />

  <!-- Fontes e √çcones -->
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

  <!-- CSS do projeto -->
  <link rel="stylesheet" href="style.css" />

  <!-- ===== Extras (A11y + √Åudio) ===== -->
  <style>
    :root{ font-size:18px; }

    /* SR only */
    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }

    /* Leitura f√°cil */
    body.easy-read{
      background:#fff !important; color:#000 !important;
      font-size:1.18rem; line-height:2;
      letter-spacing:.2px;
    }

    /* Barra A11y no header */
    .a11y-row{ margin-top:.75rem; }
    .a11y-inner{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      padding-top:.4rem;
      border-top:1px solid rgba(0,0,0,.12);
    }
    .btn-a11y, .audio-btn{
      border:1px solid rgba(0,0,0,.12);
      background:#fff;
      border-radius:12px;
      padding:10px 12px;
      font-weight:700;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      box-shadow:0 3px 8px rgba(0,0,0,.05);
    }
    .btn-a11y:hover, .audio-btn:hover{ transform:translateY(-1px); }
    .btn-a11y:focus, .audio-btn:focus{ outline:3px solid rgba(255,122,0,.25); outline-offset:2px; }
    .a11y-sep{ width:1px; height:32px; background:rgba(0,0,0,.12); margin:0 2px; }
    .font-hint{ font-size:14px; opacity:.75; margin-left:6px; }

    /* Toolbar de √°udio por t√≥pico */
    .audio-toolbar{ margin:0 0 12px; }

    /* Bot√£o leitura f√°cil fixo */
    #easyReadBtn{
      position:fixed; left:16px; bottom:16px; z-index:999;
      border:0; border-radius:999px;
      background:#ffd633; color:#000;
      font-weight:800;
      padding:.65rem 1rem;
      box-shadow:0 8px 18px rgba(0,0,0,.12);
      cursor:pointer;
    }

    @media (max-width:768px){
      .btn-a11y, .audio-btn{ padding:9px 10px; }
      .a11y-inner{ gap:8px; }
    }
  </style>
</head>
<body>
  <!-- Barra de progresso -->
  <div id="progressBar" aria-hidden="true"></div>

  <!-- ===== HEADER ===== -->
  <header class="site-header">
    <div class="container header-grid">
      <a class="brand" href="index.html" aria-label="P√°gina inicial Vida Saud√°vel 60+">
        <span class="brand-badge" aria-hidden="true">60+</span>
        <div class="brand-text">
          <h1>Vida Saud√°vel</h1>
          <p>Sa√∫de ‚Ä¢ Dicas ‚Ä¢ Jogos</p>
        </div>
      </a>

      <button id="menuBtn" class="menu-btn" aria-expanded="false" aria-controls="topNav" aria-label="Abrir menu">
        <i class="fa-solid fa-bars"></i>
      </button>

      <nav id="topNav" class="top-nav" aria-label="Navega√ß√£o principal">
        <a href="index.html#noticias">Not√≠cias</a>
        <a href="index.html#jogos">Jogos</a>
        <a href="index.html#videos">V√≠deos</a>
        <a href="index.html#dicas">Dicas</a>
      </nav>
    </div>

    <!-- A11y + √Åudio (igual os outros) -->
    <div class="container a11y-row" role="region" aria-label="Acessibilidade e leitura em √°udio">
      <div class="a11y-inner">
        <button class="btn-a11y" id="fontDec" type="button" aria-label="Diminuir tamanho da letra">A-</button>
        <button class="btn-a11y" id="fontInc" type="button" aria-label="Aumentar tamanho da letra">A+</button>
        <button class="btn-a11y" id="fontReset" type="button" aria-label="Voltar tamanho padr√£o">Padr√£o</button>
        <span class="font-hint" id="fontHint" aria-live="polite"></span>

        <span class="a11y-sep" aria-hidden="true"></span>

        <button class="btn-a11y" id="ttsPlayPage" type="button" aria-label="Ouvir a p√°gina inteira">üîä Ouvir p√°gina</button>
        <button class="btn-a11y" id="ttsPause" type="button" aria-label="Pausar ou continuar leitura">‚è∏ Pausar</button>
        <button class="btn-a11y" id="ttsStop" type="button" aria-label="Parar leitura">‚èπ Parar</button>
        <small id="ttsStatus" class="sr-only" aria-live="polite"></small>
      </div>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section class="hero">
    <div class="container hero-grid">
      <div class="hero-text">
        <small id="dataHoje" class="hero-date" aria-live="polite"></small>
        <h2>Pol√≠ticas de <span>Envelhecimento Ativo</span> no SUS</h2>
        <p>Envelhecimento ativo √© otimizar oportunidades de <strong>sa√∫de</strong>, <strong>participa√ß√£o</strong> e <strong>seguran√ßa</strong> para melhorar a qualidade de vida √† medida que envelhecemos. Veja como o SUS organiza esse cuidado.</p>

        <div class="audio-toolbar">
          <button class="audio-btn" type="button" data-section="page-all">üîä Ouvir a p√°gina inteira</button>
        </div>

        <!-- Sum√°rio -->
        <nav class="toc" aria-label="Sum√°rio desta p√°gina">
          <strong>Sum√°rio</strong>
          <ul>
            <li><a href="#conceito-oms">Conceito estrat√©gico (OMS)</a></li>
            <li><a href="#marco-legal">1. Marco legal e conceitual no SUS</a></li>
            <li><a href="#instrumentos">2. Instrumentos de gest√£o e cuidado</a></li>
            <li><a href="#participacao">3. Participa√ß√£o e protagonismo</a></li>
            <li><a href="#video">V√≠deo explicativo</a></li>
            <li><a href="#mobilidade">5. Pol√≠ticas p√∫blicas de mobilidade e envelhecimento</a></li>
          </ul>
        </nav>
      </div>

      <aside class="alerta" role="note" aria-label="Aviso importante">
        <i class="fa-solid fa-triangle-exclamation" aria-hidden="true"></i>
        <div>
          <h3>Informa√ß√£o, n√£o diagn√≥stico</h3>
          <p>Conte√∫do educativo. Procure sua equipe de sa√∫de para avalia√ß√£o cl√≠nica ou d√∫vidas sobre direitos e servi√ßos.</p>
        </div>
      </aside>
    </div>
  </section>

  <main>
    <!-- Conceito OMS -->
    <section id="conceito-oms" class="section container">
      <div class="audio-toolbar">
        <button class="audio-btn" type="button" data-section="conceito-oms">üîä Ouvir este t√≥pico</button>
      </div>

      <h3 class="section-title"><i class="fa-solid fa-globe"></i> Conceito estrat√©gico (OMS)</h3>
      <p>A Organiza√ß√£o Mundial da Sa√∫de (OMS) define <strong>envelhecimento ativo</strong> como o processo de <em>otimizar oportunidades para sa√∫de, participa√ß√£o e seguran√ßa</em> com o objetivo de real√ßar a qualidade de vida ao envelhecer. No SUS, esse conceito orienta pol√≠ticas, servi√ßos e a√ß√µes intersetoriais.</p>
    </section>

    <!-- 1. Marco Legal e Conceitual -->
    <section id="marco-legal" class="section container">
      <div class="audio-toolbar">
        <button class="audio-btn" type="button" data-section="marco-legal">üîä Ouvir este t√≥pico</button>
      </div>

      <h3 class="section-title"><i class="fa-solid fa-scale-balanced"></i> 1. Marco legal e conceitual no SUS</h3>
      <p>A <strong>Pol√≠tica Nacional de Sa√∫de da Pessoa Idosa (PNSPI)</strong> (2006), consolidada na <strong>Portaria de Consolida√ß√£o GM/MS n¬∫ 2/2017</strong>, organiza a aten√ß√£o √† sa√∫de do idoso no Brasil com foco em:</p>

      <div class="callouts">
        <div class="callout">
          <h4><i class="fa-solid fa-person-cane"></i> Abordagem centrada na funcionalidade</h4>
          <p>O cuidado parte da <strong>capacidade funcional</strong> global (grau de depend√™ncia, risco de fragilidade) como principal indicador de sa√∫de da pessoa idosa.</p>
        </div>
        <div class="callout">
          <h4><i class="fa-solid fa-diagram-project"></i> Integralidade e intersetorialidade</h4>
          <p>Articula√ß√£o entre pontos da <strong>Rede de Aten√ß√£o √† Sa√∫de</strong> e com outros setores (assist√™ncia social, transporte, urbanismo, cultura), reduzindo fragmenta√ß√£o do cuidado.</p>
        </div>
        <div class="callout">
          <h4><i class="fa-solid fa-heart-pulse"></i> Promo√ß√£o de h√°bitos saud√°veis</h4>
          <p>A√ß√µes para alimenta√ß√£o adequada, <strong>atividade f√≠sica regular</strong>, controle de DCNT, sa√∫de mental e <strong>conviv√™ncia social</strong> estimulante.</p>
        </div>
      </div>
    </section>

    <!-- 2. Instrumentos de Gest√£o e Cuidado -->
    <section id="instrumentos" class="section container">
      <div class="audio-toolbar">
        <button class="audio-btn" type="button" data-section="instrumentos">üîä Ouvir este t√≥pico</button>
      </div>

      <h3 class="section-title"><i class="fa-solid fa-toolbox"></i> 2. Instrumentos de gest√£o e cuidado no SUS</h3>

      <div class="callouts">
        <div class="callout">
          <h4><i class="fa-solid fa-notes-medical"></i> Caderneta de Sa√∫de da Pessoa Idosa</h4>
          <p>Instrumento do Minist√©rio da Sa√∫de para <strong>avalia√ß√£o multidimensional</strong> (funcional e psicossocial), identifica√ß√£o de vulnerabilidades e orienta√ß√£o ao <strong>autocuidado</strong>, promovendo autonomia e independ√™ncia.</p>
        </div>
        <div class="callout">
          <h4><i class="fa-solid fa-people-arrows"></i> Linhas de cuidado &amp; Matriciamento</h4>
          <p>Organizam fluxos entre APS, aten√ß√£o especializada, reabilita√ß√£o e hospital. O <strong>apoio matricial</strong> (ex.: geriatria/gerontologia) fortalece a APS com educa√ß√£o permanente e planos compartilhados.</p>
        </div>
        <div class="callout">
          <h4><i class="fa-solid fa-house-medical"></i> Aten√ß√£o Domiciliar e cuidado comunit√°rio</h4>
          <ul class="list">
            <li><strong>Melhor em Casa</strong> (SAD): modalidade domiciliar integrada √† Rede de Aten√ß√£o.</li>
            <li><strong>PAI</strong> (SP): acompanhamento no domic√≠lio, apoio √†s AVD.</li>
            <li><strong>PMC</strong> (BH): parceria Sa√∫de‚ÄìAssist√™ncia para prevenir institucionaliza√ß√£o e apoiar a fam√≠lia cuidadora.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- 3. Participa√ß√£o e Protagonismo -->
    <section id="participacao" class="section container">
      <div class="audio-toolbar">
        <button class="audio-btn" type="button" data-section="participacao">üîä Ouvir este t√≥pico</button>
      </div>

      <h3 class="section-title"><i class="fa-solid fa-users"></i> 3. √änfase na participa√ß√£o e no protagonismo</h3>
      <p>Envelhecer ativamente √© <strong>mais que aus√™ncia de doen√ßa</strong>: envolve manter a capacidade funcional com <strong>engajamento ativo</strong> na vida comunit√°ria.</p>

      <div class="tips">
        <div class="tip"><i class="fa-solid fa-handshake-angle" aria-hidden="true"></i><div><strong>Inclus√£o social e intergeracionalidade:</strong> atividades socioculturais, esporte/lazer e projetos que aproximam gera√ß√µes combatem o idadismo e favorecem reinser√ß√£o social.</div></div>
        <div class="tip"><i class="fa-solid fa-id-card-clip" aria-hidden="true"></i><div><strong>Valoriza√ß√£o da cidadania:</strong> enfrentamento √† viol√™ncia/abandono; informa√ß√£o sobre direitos, canais de den√∫ncia e rede de prote√ß√£o.</div></div>
      </div>
    </section>

    <!-- 5. Pol√≠ticas p√∫blicas de mobilidade -->
    <section id="mobilidade" class="section container">
      <div class="audio-toolbar">
        <button class="audio-btn" type="button" data-section="mobilidade">üîä Ouvir este t√≥pico</button>
      </div>

      <h3 class="section-title"><i class="fa-solid fa-person-walking-with-cane"></i> 5. Pol√≠ticas p√∫blicas de mobilidade e envelhecimento</h3>
      <p>A mobilidade segura sustenta a <strong>autonomia</strong>, o acesso a servi√ßos e a participa√ß√£o social. A√ß√µes intersetoriais (sa√∫de, transporte, urbanismo, assist√™ncia) favorecem o <strong>envelhecimento ativo</strong> no territ√≥rio.</p>

      <div class="callouts">
        <div class="callout">
          <h4><i class="fa-solid fa-road"></i> Acessibilidade urbana</h4>
          <ul class="list">
            <li>Cal√ßadas regulares com rampas e <strong>piso t√°til</strong> cont√≠nuo.</li>
            <li>Travessias com <strong>tempo semaf√≥rico ampliado</strong>, faixas elevadas e boa <strong>ilumina√ß√£o</strong>.</li>
            <li>Espa√ßos de descanso (bancos, sombreamento) em rotas de servi√ßos p√∫blicos.</li>
          </ul>
        </div>
        <div class="callout">
          <h4><i class="fa-solid fa-bus"></i> Transporte p√∫blico amig√°vel</h4>
          <ul class="list">
            <li>√înibus com <strong>piso baixo</strong>, elevadores/plataformas e assentos preferenciais.</li>
            <li>Pontos com cobertura, assentos e sinaliza√ß√£o clara (visual/sonora).</li>
            <li>Informa√ß√£o acess√≠vel (tamanho de fonte, contrastes, aplicativos simples).</li>
          </ul>
        </div>
        <div class="callout">
          <h4><i class="fa-solid fa-heart-circle-bolt"></i> Mobilidade ativa &amp; reabilita√ß√£o</h4>
          <ul class="list">
            <li>Grupos de <strong>caminhada orientada</strong> em UBS, pra√ßas e parques.</li>
            <li>Integra√ß√£o com <strong>reabilita√ß√£o</strong> (fisioterapia) e <strong>Tecnologia Assistiva</strong> (bengalas, andadores, barras).</li>
            <li>Ambientes p√∫blicos <strong>amig√°veis √† idade</strong> (diretrizes de ‚Äúcidade amiga do idoso‚Äù).</li>
          </ul>
        </div>
      </div>

      <!-- Tabela: Desafios x A√ß√µes -->
      <div class="compare" style="margin-top:12px">
        <table class="clean table--stack" aria-label="Desafios e a√ß√µes para mobilidade no envelhecimento">
          <thead>
            <tr>
              <th style="width:50%">Desafio</th>
              <th style="width:50%">A√ß√£o intersetorial</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-th="Desafio">Quedas em cal√ßadas irregulares e pouca ilumina√ß√£o</td>
              <td data-th="A√ß√£o">Manuten√ß√£o de cal√ßadas, <strong>ilumina√ß√£o p√∫blica</strong>, travessias elevadas e <strong>piso t√°til</strong></td>
            </tr>
            <tr>
              <td data-th="Desafio">Dificuldade para embarque no transporte</td>
              <td data-th="A√ß√£o"><strong>Piso baixo</strong>, elevadores, assentos preferenciais e pontos com cobertura/assento</td>
            </tr>
            <tr>
              <td data-th="Desafio">Baixa capacidade funcional</td>
              <td data-th="A√ß√£o"><strong>Reabilita√ß√£o</strong> + grupos de caminhada e <strong>TA</strong> (bengala/andador)</td>
            </tr>
            <tr>
              <td data-th="Desafio">Informa√ß√£o pouco acess√≠vel</td>
              <td data-th="A√ß√£o">Sinaliza√ß√£o com alto contraste, fontes grandes e canais digitais simples</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- V√≠deo -->
  <section id="video" class="section container" aria-labelledby="titulo-video">
    <div class="audio-toolbar">
      <button class="audio-btn" type="button" data-section="video">üîä Ouvir este t√≥pico</button>
    </div>

    <h3 id="titulo-video" class="section-title">
      <i class="fa-solid fa-video" aria-hidden="true"></i> V√≠deo explicativo
    </h3>

    <figure class="figure" role="group" aria-label="V√≠deo: pol√≠ticas de envelhecimento ativo no SUS">
      <div class="video-wrap" role="region" aria-label="Player do YouTube: Pol√≠ticas de envelhecimento ativo no SUS" style="position:relative; width:100%; aspect-ratio:16/9; background:#000; border-radius:14px; overflow:hidden;">
        <iframe
          title="Pol√≠ticas de Envelhecimento Ativo no SUS ‚Äî V√≠deo"
          src="https://www.youtube-nocookie.com/embed/K3C0PdKDgIM?rel=0&modestbranding=1"
          loading="lazy"
          referrerpolicy="strict-origin-when-cross-origin"
          allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen
          style="position:absolute; inset:0; width:100%; height:100%; border:0;">
        </iframe>
      </div>
      <figcaption class="video-caption" style="padding:12px; color:#444; font-size:15px;">
        Pol√≠ticas de envelhecimento ativo no SUS e como acessar servi√ßos na rede.
        <br>
        <a class="video-actions" href="https://youtu.be/K3C0PdKDgIM" target="_blank" rel="noopener" style="text-decoration:underline; font-weight:500;">
          Abrir no YouTube
        </a>
      </figcaption>
    </figure>
  </section>

  <!-- Voltar ao topo -->
  <button id="toTop" class="to-top" aria-label="Voltar ao topo"><i class="fa-solid fa-arrow-up"></i></button>

  <!-- Leitura f√°cil -->
  <button id="easyReadBtn" type="button" aria-label="Ativar modo leitura f√°cil">üëÅÔ∏è Leitura F√°cil</button>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="anoAtual"></span> Vida Saud√°vel 60+. Conte√∫do educativo.</p>
    </div>
  </footer>

  <!-- JS do projeto (mant√©m) -->
  <script src="script.js"></script>

  <!-- JS desta p√°gina (com √°udio + A11y) -->
  <script>
    (function(){
      // ===== Data e ano =====
      const d = new Date();
      const dataHoje = document.getElementById('dataHoje');
      const anoAtual = document.getElementById('anoAtual');
      if(dataHoje) dataHoje.textContent = d.toLocaleDateString('pt-BR',{day:'2-digit',month:'long',year:'numeric'});
      if(anoAtual) anoAtual.textContent = d.getFullYear();

      // ===== Menu mobile =====
      const btn = document.getElementById('menuBtn');
      const nav = document.getElementById('topNav');
      btn?.addEventListener('click', () => {
        const open = nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });

      // ===== Barra de progresso + voltar ao topo =====
      const bar = document.getElementById('progressBar');
      const toTop = document.getElementById('toTop');
      const onScroll = () => {
        const h = document.documentElement;
        const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight) * 100;
        if(bar) bar.style.width = scrolled + '%';
        if(toTop){
          h.scrollTop > 240 ? toTop.classList.add('show') : toTop.classList.remove('show');
        }
      };
      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll();
      toTop?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

      // ===== Leitura F√°cil =====
      document.getElementById('easyReadBtn')?.addEventListener('click', () => {
        document.body.classList.toggle('easy-read');
      });

      // ===== Fonte (A- / A+ / Padr√£o) =====
      const MIN_PX = 16, MAX_PX = 26, STEP = 1, DEFAULT_PX = 18;
      const hint = document.getElementById('fontHint');

      function getFontPx() {
        const saved = Number(localStorage.getItem("vs60_font_px"));
        if (saved && saved >= MIN_PX && saved <= MAX_PX) return saved;
        const css = Number(getComputedStyle(document.documentElement).fontSize.replace("px",""));
        return css || DEFAULT_PX;
      }
      function setFontPx(px) {
        const v = Math.max(MIN_PX, Math.min(MAX_PX, px));
        document.documentElement.style.fontSize = v + "px";
        localStorage.setItem("vs60_font_px", String(v));
        if (hint) hint.textContent = `Tamanho: ${v}px`;
      }
      setFontPx(getFontPx());
      document.getElementById("fontDec")?.addEventListener("click", () => setFontPx(getFontPx() - STEP));
      document.getElementById("fontInc")?.addEventListener("click", () => setFontPx(getFontPx() + STEP));
      document.getElementById("fontReset")?.addEventListener("click", () => setFontPx(DEFAULT_PX));

      // ===== Leitura em voz alta (TTS) =====
      const hasTTS = "speechSynthesis" in window && "SpeechSynthesisUtterance" in window;
      const statusEl = document.getElementById("ttsStatus");
      const setStatus = (msg) => { if (statusEl) statusEl.textContent = msg; };

      function pickPtVoice() {
        const voices = speechSynthesis.getVoices?.() || [];
        return voices.find(v => /pt-BR/i.test(v.lang)) || voices.find(v => /^pt/i.test(v.lang)) || null;
      }

      function stopSpeak() {
        if (!hasTTS) return;
        speechSynthesis.cancel();
        setStatus("Leitura parada.");
      }

      function pauseOrResume() {
        if (!hasTTS) return;
        if (speechSynthesis.speaking && !speechSynthesis.paused) {
          speechSynthesis.pause();
          setStatus("Leitura pausada.");
          return;
        }
        if (speechSynthesis.paused) {
          speechSynthesis.resume();
          setStatus("Leitura retomada.");
        }
      }

      function speakText(text) {
        if (!hasTTS) {
          alert("Seu navegador n√£o suporta leitura em voz. Use o Google Chrome üòâ");
          return;
        }
        const clean = (text || "").replace(/\s+/g, " ").trim();
        if (!clean) return;

        stopSpeak();

        const u = new SpeechSynthesisUtterance(clean);
        const voice = pickPtVoice();
        if (voice) u.voice = voice;

        u.lang = voice?.lang || "pt-BR";
        u.rate = 0.95;
        u.pitch = 1.0;
        u.volume = 1.0;

        u.onstart = () => setStatus("Lendo em voz alta...");
        u.onend   = () => setStatus("Leitura conclu√≠da.");
        u.onerror = () => setStatus("N√£o foi poss√≠vel ler este trecho.");

        speechSynthesis.speak(u);
      }

      function extractCleanText(root) {
        if (!root) return "";
        const clone = root.cloneNode(true);

        // mant√©m texto dos links
        clone.querySelectorAll("a").forEach(a => {
          const t = document.createTextNode(a.textContent || "");
          a.replaceWith(t);
        });

        // remove controles e coisas sem interesse na leitura
        const removeSelectors = [
          ".audio-toolbar",
          ".a11y-row",
          "#progressBar",
          "nav",
          "button",
          "script",
          "style",
          "i",
          "#toTop",
          "#easyReadBtn",
          "iframe"
        ];
        clone.querySelectorAll(removeSelectors.join(",")).forEach(el => el.remove());

        return (clone.textContent || "")
          .replace(/[ \t]+\n/g, "\n")
          .replace(/\n{3,}/g, "\n\n")
          .replace(/[ \t]{2,}/g, " ")
          .trim();
      }

      // Bot√µes globais
      document.getElementById("ttsPlayPage")?.addEventListener("click", () => {
        const main = document.querySelector("main");
        // inclui tamb√©m a se√ß√£o de v√≠deo (fora do main)
        const video = document.getElementById("video");
        const text = extractCleanText(main) + "\n\n" + extractCleanText(video);
        speakText(text);
      });
      document.getElementById("ttsPause")?.addEventListener("click", pauseOrResume);
      document.getElementById("ttsStop")?.addEventListener("click", stopSpeak);

      // Bot√µes por t√≥pico (e ‚Äúpage-all‚Äù)
      document.querySelectorAll(".audio-btn").forEach(b => {
        b.addEventListener("click", () => {
          const target = b.getAttribute("data-section");
          if (target === "page-all") {
            document.getElementById("ttsPlayPage")?.click();
            return;
          }
          const sec = document.getElementById(target);
          speakText(extractCleanText(sec));
        });
      });

      // Atalhos: Alt+L (p√°gina), Alt+P (pausar), Alt+X (parar)
      document.addEventListener("keydown", (e) => {
        if (!e.altKey) return;
        const k = e.key.toLowerCase();
        if (k === "l") { e.preventDefault(); document.getElementById("ttsPlayPage")?.click(); }
        if (k === "p") { e.preventDefault(); pauseOrResume(); }
        if (k === "x") { e.preventDefault(); stopSpeak(); }
      });

      if (hasTTS && speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = () => {};
      }
      window.addEventListener("beforeunload", stopSpeak);
    })();
  </script>
</body>
</html>
